"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1898],{41898:function(i,n,e){e.d(n,{u:function(){return u}});var t=e(26604),r=e(10988),a=e(71210),o=e(35372),l=e(17917),d=e(63216);function u(i){var n=i.bike,e=i.sx,u=i.location1,c=i.location2,s=i.render,h=(0,l.Sn)("button",n);if(!h)return null;var m,v=(0,r.jsx)(d.HV,{affiliateLinkLocation:(0,o.E5)(u,c),product:h,children:(0,r.jsxs)(a.Z,{variant:"border",mass:"large",href:h.purchaseUrl,rel:"external nofollow",target:"_blank",sx:(0,t.Z)({display:"flex",textAlign:"center",width:"100%","> img":{height:20,marginRight:3}},e),children:[(0,r.jsx)("img",{alt:"",src:h.merchantLogoUrl}),(0,r.jsx)("span",{children:"Shop with an Expert"})]})});return null!==(m=null===s||void 0===s?void 0:s({inner:v}))&&void 0!==m?m:v}},11697:function(i,n,e){e.d(n,{Z:function(){return d},u:function(){return u}});var t=e(10988),r=e(97538),a=e(72618),o=e(94604),l=(0,r.createContext)(null);function d(i){var n=i.children,e=i.unless,a=(0,r.useReducer)((function(){return!e}),!1),d=a[0],u=a[1];return d?null:(0,t.jsx)(o.SV,{level:"section",children:(0,t.jsx)(l.Provider,{value:u,children:n})})}function u(i){var n=(0,r.useContext)(l);(0,a.Z)((function(){n&&i&&n()}),[i,n])}},17917:function(i,n,e){e.d(n,{H5:function(){return U},Sn:function(){return H},Ym:function(){return R}});var t=e(26604),r=e(64788),a=e(62799),o=e(70948),l=e(10988),d=e(97538),u=e(57460),c=e.n(u),s=e(55564),h=e(9470),m=e(98464),v=e(67710),g=e(50254),p=e(44077),f=e(35372),b=e(11751),k=e(67574),y=e(11697),x=e(53747),C=e(73805),Z=e(35302),j=e(83880),w=e(66313),I=e(73773),L=e(20360),S=e(36415),E=e(28535);function R(i){var n,e=i.bike,t=i.adContext,r=i.location,a=i.location2,d=(0,b.Xl)(e,{limit:12});(0,y.u)(0===(null===d||void 0===d||null===(n=d.items)||void 0===n?void 0:n.length));var u=H("buy",e),c=(0,L.Z)((null===d||void 0===d?void 0:d.items)&&[u].concat((0,o.Z)(d.items)).filter((function(i){return i})),{location:r,location2:a}),s=(0,L.Z)(null===d||void 0===d?void 0:d.related,{location:r,location2:a});return(0!==c.length||0!==s.length)&&(0,l.jsx)(z,{products:c,related:s,affiliateLinkLocation:(0,f.E5)(r,a),allowAds:!0,adContext:t})}function U(i){var n,e=i.bike,t=i.location,r=i.location2,a=i.withCurated,d=(0,b.br)({bikeId:e.id,limit:12}),u=H("similar",e,a),c=(0,L.Z)((null===d||void 0===d?void 0:d.items)&&[u].concat((0,o.Z)(d.items)).filter((function(i){return i})),{location:t,location2:r});return(0,y.u)(0===(null===d||void 0===d||null===(n=d.items)||void 0===n?void 0:n.length)),0!==(null===c||void 0===c?void 0:c.length)&&(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(z,{products:c,affiliateLinkLocation:(0,f.E5)(t,r),ctaVariant:"secondary",withComparison:[e.id]}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(A,{bike:e})})]})}function z(i){var n,e,t,r,a=i.products,o=i.related,d=i.affiliateLinkLocation,u=i.allowAds,c=i.adContext,h=i.ctaVariant,v=i.withComparison,g=(0,s.Z)("products").t,p=a?null!==(r=null!==(t=null===a||void 0===a?void 0:a.length)&&void 0!==t?t:0+(null===o||void 0===o?void 0:o.length))&&void 0!==r?r:1:0;return(0,l.jsxs)(x.l,{minHeight:0===(null===a||void 0===a?void 0:a.length)?0:312,children:[null===a||void 0===a?void 0:a.map((function(i){return(0,l.jsx)(V,{product:i,ctaVariant:h,affiliateLinkLocation:d,withComparison:v},i.purchaseUrl)})),(null===o||void 0===o?void 0:o.length)?(0,l.jsxs)(l.Fragment,{children:[a.length?(0,l.jsx)(B,{children:g("upgradesSeparatorLabel")}):null,null===o||void 0===o?void 0:o.map((function(i){return(0,l.jsx)(x.l.Item,{minWidth:260,maxWidth:300,width:"min-content",marginBottom:4,padding:2,children:(0,l.jsx)(k.v,{allowReviewLink:!0,product:i,emphasizeMerchant:!0,trackShow:!0,affiliateLinkLocation:d,ctaVariant:"secondary"})},i.purchaseUrl)}))]}):null,u&&a&&p<4?(0,l.jsxs)(m.Z,{display:"inline-flex",children:[0===(null===a||void 0===a||null===(n=a.items)||void 0===n?void 0:n.length)&&0===(null===a||void 0===a||null===(e=a.related)||void 0===e?void 0:e.length)?null:(0,l.jsx)(B,{children:g("advertisementSeparatorLabel")}),(0,l.jsx)(x.l.Item,{minWidth:244,maxWidth:336,width:"max-content",marginBottom:4,padding:2,children:(0,l.jsx)(m.Z,{height:"100%",display:"grid",placeItems:"center",children:(0,l.jsx)(C.S,{zoneName:"bike-inline-buy",formats:[["largeRectangle","inlineRectangle"]],targetingContext:c},"ad")})})]}):null]})}function B(i){var n=i.children;return(0,l.jsx)(m.Z,{marginBottom:4,paddingX:4,paddingY:4,display:"flex",children:(0,l.jsx)(m.Z,{borderLeft:1,borderColor:"gray300",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,l.jsx)(m.Z,{as:v.Z,textStyle:"c.12",color:"gray600",whiteSpace:"nowrap",position:"absolute",transform:"rotate(-90deg)",bg:"white",paddingX:3,children:n})})})}function A(i){var n,e=i.bike,o=(0,a.Z)((0,Z.Z)("riderHeightCM",null),1)[0],d=(0,s.Z)("products").t,u=null,h={},m=null===(n=e.subcategories)||void 0===n?void 0:n[0];return m?(h={subcategory:m},u=m):(h={category:e.category},u=e.category),(0,l.jsx)(c(),{href:{pathname:"/bikes",query:(0,t.Z)((0,r.Z)((0,t.Z)({},h),{availability:"available"}),o?{riderHeightCM:o}:{})},passHref:!0,children:(0,l.jsx)(g.Z,{as:"a",variant:"link",children:d("viewMoreInStockCategoryBikes",{category:d("specs:categories.".concat(u))})})})}function V(i){var n=i.product,e=i.affiliateLinkLocation,t=i.ctaVariant,r=i.withComparison,a=(0,j.Z)(),d=a.removeComparisonBike,u=a.comparisonBikes,c=a.getCompareUrl,s=(0,I.useRouter)(),h=new Set(u.map((function(i){return i.id})).filter((function(i){return i}))),v=n.bikeId&&r,g=v&&h.has(n.bikeId);return(0,l.jsxs)(x.l.Item,{minWidth:[180,220,244],maxWidth:300,width:"min-content",marginBottom:4,padding:2,position:"relative",children:[v&&(0,l.jsx)(m.Z,{position:"absolute",top:0,right:0,zIndex:"above",padding:4,children:(0,l.jsx)(p.Z,{label:g?"Remove from comparison":"Add to comparison",mouseOnly:!0,children:(0,l.jsx)(w.Z,{size:5,isSelected:g,onAdd:function(){s.push(c(h.size?(0,o.Z)(h).concat([n.bikeId]):(0,o.Z)(Array.isArray(r)?r:[]).concat([n.bikeId])))},onRemove:function(){d(n.bikeId)}})})}),(0,l.jsx)(k.v,{product:n,trackShow:["Cycle Exchange","The Pro\u2019s Closet","Curated","Canyon","Specialized","Cannondale","YT Industries","Biketart","The Cyclist House","BIKEINN","FITSTORE24","Liquid-Life","Alltricks","FaFit24","Fahrrad XXL"].includes(n.merchant),emphasizeMerchant:!0,affiliateLinkLocation:e,ctaVariant:(null!==t&&void 0!==t?t:n.isCustom)?"secondary":"primary"},n.purchaseUrl)]})}function H(i,n,e){var t,r=(0,d.useId)(),a=(0,E.j)(),o=(0,S.En)();if(!o.isReady||"us"!==o.region||!n)return null;var l,u=M.has(n.makerId);if("buy"===i&&!u||"similar"===i&&u&&!e)return null;var c,s,h=null!==(l=_[i])&&void 0!==l?l:_.carousel,m=null!==(c=h[null===(t=n.subcategories)||void 0===t?void 0:t[0]])&&void 0!==c?c:h[n.category];if(!m)return null;var v,g=null!==(s=null===a||void 0===a?void 0:a.curatedCard1)&&void 0!==s?s:"original",p={buy:"Need help deciding? Shop with a Curated Expert.",similar:"Chat with a Curated Expert and get free advice on bikes like this."};return{key:r,bikeId:null,merchant:"Curated",abbreviatedMerchant:"Curated",merchantUrl:"https://www.curated.com/",merchantLogoUrl:"https://d2yn9m4p3q9iyv.cloudfront.net/_merchants/curated.svg",model:null!==(v=p[i])&&void 0!==v?v:p.buy,imageUrl:"logo"===g?"https://d2yn9m4p3q9iyv.cloudfront.net/_merchants/curated-full.svg":n.primaryThumbnailURL,purchaseUrl:m,stock:[],isCustom:!1,appearance:"logo"===g?"curatedLogo":"curated",condition:"new"}}var _={button:{road:"https://pubads.g.doubleclick.net/gampad/clk?id=6039994730&iu=/22591961489",mountain:"https://pubads.g.doubleclick.net/gampad/clk?id=6053252585&iu=/22591961489",gravel:"https://pubads.g.doubleclick.net/gampad/clk?id=6053250365&iu=/22591961489",urban:"https://pubads.g.doubleclick.net/gampad/clk?id=6052468318&iu=/22591961489"},carousel:{road:"https://pubads.g.doubleclick.net/gampad/clk?id=6053247995&iu=/22591961489",mountain:"https://pubads.g.doubleclick.net/gampad/clk?id=6051082005&iu=/22591961489",gravel:"https://pubads.g.doubleclick.net/gampad/clk?id=6051097401&iu=/22591961489",urban:"https://pubads.g.doubleclick.net/gampad/clk?id=6052467970&iu=/22591961489"}},M=new Set(["aventon","bmc","cannondale","cervelo","devinci","diamondback","felt","fuji","giant","ibis","juliana","liv","marin","niner","orbea","pinarello","polygon","rockymountain","salsa","santacruz","scott","specialized","trek","yeti","triban","btwin","vanrysel","rockrider"])},11751:function(i,n,e){e.d(n,{Xl:function(){return d},br:function(){return c},nh:function(){return s},rn:function(){return u}});var t=e(26604),r=e(64788),a=e(70948),o=e(95841),l=e(36415);function d(i,n){var e=n.limit,t=void 0===e?6:e;return u({year:i.year,manufacturer:i.manufacturer,makerId:i.makerId,model:i.model,family:i.familyId,msrp:i.msrp,gender:i.gender,bikeId:i.id},t,i.products)}function u(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,e=arguments.length>2?arguments[2]:void 0,a=(0,l.En)(),d=o.rn.withQueryConfig({enabled:a.isReady})((0,r.Z)((0,t.Z)({},i),{region:a.region,limit:n})).data;if(!d)return null;var u,c=d.products,s=h(null!==e&&void 0!==e?e:[],null!==(u=c.items)&&void 0!==u?u:[],c.total),m=s.total,v=s.items;return(0,r.Z)((0,t.Z)({},c),{total:m,items:v,related:c.related})}function c(i){var n=i.bikeId,e=i.limit,t=void 0===e?6:e,r=(0,l.En)(),a=o.br.withQueryConfig({enabled:r.isReady})({bikeId:n,region:r.region,limit:t}).data;return(null===a||void 0===a?void 0:a.similarInStockProducts)?a.similarInStockProducts:null}function s(i){var n=i.category,e=i.gender,t=i.limit,r=void 0===t?10:t,a=(0,l.En)();return o.nh.withQueryConfig({enabled:a.isReady})({category:n,gender:e,region:a.region,limit:r}).data}function h(i,n,e){var t=new Set(i.map((function(i){return i.key}))),r=(0,a.Z)(i).concat((0,a.Z)(n.filter((function(i){return!t.has(i.key)}))));return{items:r,total:e+r.length-n.length}}}}]);